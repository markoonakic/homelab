apiVersion: v1
kind: ConfigMap
metadata:
  name: glance-config
  namespace: glance
data:
  glance.yml: |
    # Glance Dashboard Configuration
    # Configured for: glance.sarma.love (VPN-only access)

    # Theme: Gruvbox Dark
    theme:
      light: false
      background-color: 40 13 11     # Gruvbox dark background (#282828)
      primary-color: 25 89 58         # Gruvbox orange (#fe8019)
      positive-color: 79 54 46        # Gruvbox green (#b8bb26)
      negative-color: 0 74 59         # Gruvbox red (#fb4934)
      contrast-multiplier: 1.1

    # Dashboard Pages
    pages:
      - name: Home
        columns:
          # Column 1: Main content (full width)
          - size: full
            widgets:
              # Twitch Channels Widget
              - type: twitch-channels
                channels:
                  - forsen
                  - northernlion
                  - k3soju
                collapse-after: 3
                sort-by: viewers
                cache: 5m

          # Column 2: Sidebar (small width)
          - size: small
            widgets:
              # Weather Widget
              - type: weather
                location: Belgrade, Serbia
                units: metric
                hour-format: 24h
                hide-location: false
                show-area-name: true
                cache: 30m

              # Calendar Widget - Serbian Holidays
              - type: calendar
                title: Serbian Holidays
                calendar-url: https://calendar.google.com/calendar/ical/en.rs%23holiday%40group.v.calendar.google.com/public/basic.ics
                max-events: 15
                cache: 1h

              # Tailscale Devices Widget (via Headscale API)
              - type: extension
                url: https://headscale.sarma.love/api/v1/machine
                title: VPN Devices
                allow-potentially-dangerous-html: true
                cache: 30s
                headers:
                  Authorization: Bearer ${HEADSCALE_API_KEY}
