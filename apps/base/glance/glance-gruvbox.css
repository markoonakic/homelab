/* Gruvbox Dark Theme for Glance Dashboard */

:root {
  /* Gruvbox Dark - Background colors */
  --color-background: #282828 !important;
  --color-surface: #282828 !important;
  --color-widget-background: #282828 !important;
  --color-header-background: #282828 !important;
  --color-bg-dark: #1d2021 !important;
  --color-bg-light: #3c3836 !important;

  /* Gruvbox Dark - Text colors */
  --color-text-base: #ebdbb2 !important;
  --color-text-subdue: #a89984 !important;
  --color-text-highlight: #ebdbb2 !important;

  /* Gruvbox Dark - Primary colors */
  --color-primary: #b16286 !important;
  --color-primary-dark: #8f3f71 !important;
  --color-primary-light: #d3869b !important;
  --color-highlight: #b16286 !important;

  /* Gruvbox Dark - Accent colors */
  --color-blue: #458588 !important;
  --color-blue-light: #83a598 !important;
  --color-aqua: #689d6a !important;
  --color-aqua-light: #8ec07c !important;
  --color-orange: #d65d0e !important;
  --color-orange-light: #fe8019 !important;

  /* Gruvbox Dark - Status colors */
  --color-positive: #b8bb26 !important;
  --color-negative: #fb4934 !important;

  /* Gruvbox Dark - Border colors */
  --color-border-subtle: #1d2021 !important;
  --color-border-strong: #1d2021 !important;
}

/* Global backgrounds */
body,
.page {
  background-color: var(--color-background) !important;
}

/* Top header / navigation bar so corners match background */
.header,
.header-container,
.page-header {
  background-color: var(--color-background) !important;
  border-color: var(--color-bg-dark) !important;
  box-shadow: none !important;
}

/* Hide Glance theme selector / theme picker in header */
.header [class*="theme"],
.header [data-theme-picker],
.header .theme-picker,
.header .header-theme,
.header .theme-toggle {
  display: none !important;
}

/* Navigation tabs and page title use foreground color */
.header a,
.header .size-h2,
.header .size-h3 {
  color: var(--color-text-base) !important;
}

/* Widget shell: no shadow here, just background */
.widget {
  background-color: var(--color-background) !important;
  box-shadow: none !important;
}

/* Widget content: main card surface with soft gradient-like shadow */
.widget-content {
  background-color: var(--color-background) !important;
  border-color: var(--color-bg-dark) !important;
  box-shadow:
    0 12px 30px rgba(29, 32, 33, 0.85),
    0 0 0 1px var(--color-bg-dark) !important;
}

/* Framed/frameless content that should stay flat (no card shadow) */
.widget-content.widget-content-frameless,
.widget-content.widget-content-frame {
  box-shadow: none !important;
  border-color: var(--color-bg-dark) !important;
  background-color: var(--color-background) !important;
}

/* Text colors */
.widget *,
.page *,
.footer {
  color: var(--color-text-base) !important;
}

/* Subdued text */
.color-subdue {
  color: var(--color-text-subdue) !important;
}

/* Links */
a,
a:visited,
.widget a,
[class*="widget-type-"] a {
  color: var(--color-text-base) !important;
  text-decoration: none;
  transition:
    color 0.2s ease,
    opacity 0.2s ease !important;
}

a:hover,
.widget a:hover,
[class*="widget-type-"] a:hover {
  color: var(--color-primary-light) !important;
}

/* Status icons */
.monitor-site-status-icon svg {
  fill: var(--color-positive) !important;
  stroke: none !important;
}
.monitor-site-status-icon svg[fill="var(--color-negative)"] {
  fill: var(--color-negative) !important;
}

/* === Monitor icons === */
/* Base state: recolor Simple Icons to Gruvbox fg #ebdbb2 */
.monitor-site-icon,
.monitor-site-icon img {
  filter: brightness(0) saturate(100%) invert(88%) sepia(23%) saturate(404%)
    hue-rotate(350deg) brightness(103%) contrast(84%) !important;
  transition:
    filter 0.2s ease,
    opacity 0.2s ease,
    color 0.2s ease !important;
}

/* Hover state: switch icons to purple #d3869b */
.widget-type-monitor .monitor-site:hover .monitor-site-icon,
.widget-type-monitor .monitor-site:hover .monitor-site-icon img {
  filter: brightness(0) saturate(100%) invert(60%) sepia(27%) saturate(504%)
    hue-rotate(293deg) brightness(95%) contrast(96%) !important;
}

/* Monitor widget row behaviour */
.widget-type-monitor .monitor-site {
  cursor: pointer;
}

/* Text hover color next to icon */
.widget-type-monitor .monitor-site:hover a.size-h3 {
  color: var(--color-primary-light) !important;
}

/* Weather widget text */
.widget-type-weather .weather-column-value,
.widget-type-weather .weather-column-time {
  color: var(--color-text-base) !important;
}

/* Weather bar */
.widget-type-weather .weather-bar {
  background-color: var(--color-text-base) !important;
  border-radius: 999px !important;
  border: 1px solid var(--color-primary) !important;
  box-sizing: border-box !important;
  transition:
    background-color 0.2s ease,
    border-color 0.2s ease,
    transform 0.2s ease,
    opacity 0.2s ease !important;
}
.widget-type-weather .weather-column:hover .weather-bar {
  border-color: var(--color-primary-light) !important;
  background-color: #f0e2c0 !important;
}

/* Ensure layout doesn't clip hover effects */
.widget-type-weather .weather-column {
  overflow: visible !important;
}

/* Calendar widget */
.widget-type-calendar .calendar-date,
.widget-type-calendar .calendar-dates div,
.widget-type-calendar .calendar-header-button svg,
.widget-type-calendar .size-h2,
.widget-type-calendar .size-h3 {
  color: var(--color-text-base) !important;
  stroke: var(--color-text-base) !important;
}
.widget-type-calendar .calendar-current-date {
  background-color: var(--color-bg-light) !important;
  color: var(--color-text-base) !important;
}

/* Footer links */
.footer a {
  color: var(--color-text-base) !important;
}
.footer a:hover {
  color: var(--color-primary-light) !important;
}

/* ===== Twitch hover popover ===== */

.popover-container {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.popover-frame {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.popover-content {
  background-color: var(--color-background) !important;
  border: 1px solid var(--color-bg-dark) !important;
  border-radius: 6px !important;
  box-shadow:
    0 12px 30px rgba(29, 32, 33, 0.85),
    0 0 0 1px var(--color-bg-dark) !important;
  color: var(--color-text-base) !important;
  padding: 8px !important;
}

.popover-content img.twitch-stream-preview {
  border-radius: 4px !important;
  border: none !important;
  max-width: 100% !important;
  display: block !important;
}

.popover-content p.color-highlight,
.popover-content p {
  color: var(--color-text-base) !important;
  margin-top: 10px !important;
}

/* Popover diamond pointer: solid bg-dark, no border */
.popover-frame::before {
  background-color: var(--color-bg-dark) !important;
  border: none !important;
  box-shadow: none !important;
}
